"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[105],{5886:(e,n,l)=>{l.r(n),l.d(n,{assets:()=>t,contentTitle:()=>c,default:()=>u,frontMatter:()=>d,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"\u516b\u80a1/\u8bad\u63a8\u8bba\u6587\u7cbe\u8bfb","title":"\u8bad\u63a8\u8bba\u6587\u7cbe\u8bfb","description":"Megatron-LM","source":"@site/docs/\u516b\u80a1/\u8bad\u63a8\u8bba\u6587\u7cbe\u8bfb.md","sourceDirName":"\u516b\u80a1","slug":"/\u516b\u80a1/\u8bad\u63a8\u8bba\u6587\u7cbe\u8bfb","permalink":"/docs/\u516b\u80a1/\u8bad\u63a8\u8bba\u6587\u7cbe\u8bfb","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/\u516b\u80a1/\u8bad\u63a8\u8bba\u6587\u7cbe\u8bfb.md","tags":[],"version":"current","frontMatter":{}}');var s=l(4848),i=l(8453);const d={},c=void 0,t={},o=[{value:"Megatron-LM",id:"megatron-lm",level:2},{value:"\u6210\u5c31",id:"\u6210\u5c31",level:3},{value:"\u80cc\u666f",id:"\u80cc\u666f",level:3},{value:"\u5e76\u884c\u65b9\u6cd5",id:"\u5e76\u884c\u65b9\u6cd5",level:3},{value:"DeepSpeed",id:"deepspeed",level:2},{value:"ZeRO-DP",id:"zero-dp",level:3},{value:"ZeRO-R",id:"zero-r",level:3}];function h(e){const n={h2:"h2",h3:"h3",li:"li",p:"p",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"megatron-lm",children:"Megatron-LM"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"\u5c42\u5185\u5e76\u884c"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"\u4ed4\u7ec6\u6ce8\u610fBERT\u7c7b\u6a21\u578b\u4e2d\u5c42\u5f52\u4e00\u5316\u7684\u4f4d\u7f6e\u5bf9\u4e8e\u5728\u6a21\u578b\u5c3a\u5bf8\u589e\u957f\u65f6\u5b9e\u73b0\u6027\u80fd\u63d0\u5347\u81f3\u5173\u91cd\u8981"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"\u4e0d\u9700\u8981\u65b0\u7f16\u8bd1\u5668/\u66f4\u6539\uff0c\u4e0e\u6d41\u6c34\u7ebf\u6a21\u578b\u6b63\u4ea4\u4e92\u8865"}),"\n",(0,s.jsx)(n.h3,{id:"\u6210\u5c31",children:"\u6210\u5c31"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u6211\u4eec\u901a\u8fc7\u5bf9\u73b0\u6709\u7684 PyTorch Transformer \u5b9e\u73b0\u8fdb\u884c\u5c11\u91cf\u9488\u5bf9\u6027\u7684\u4fee\u6539\uff0c\u5b9e\u73b0\u4e86\u4e00\u79cd\u7b80\u5355\u9ad8\u6548\u7684\u6a21\u578b\u5e76\u884c\u65b9\u6cd5\u3002"}),"\n",(0,s.jsx)(n.li,{children:"\u6211\u4eec\u5bf9\u6a21\u578b\u548c\u6570\u636e\u5e76\u884c\u6280\u672f\u8fdb\u884c\u4e86\u6df1\u5165\u7684\u5b9e\u8bc1\u5206\u6790\uff0c\u5e76\u8bc1\u660e\u4f7f\u7528 512 \u4e2a GPU \u53ef\u5b9e\u73b0\u9ad8\u8fbe 76% \u7684\u6269\u5c55\u6548\u7387\u3002"}),"\n",(0,s.jsx)(n.li,{children:"\u6211\u4eec\u8868\u660e\uff0c\u5728\u7c7b\u4f3c BERT \u7684\u6a21\u578b\u4e2d\u4ed4\u7ec6\u5173\u6ce8\u5c42\u5f52\u4e00\u5316\u7684\u4f4d\u7f6e\u5bf9\u4e8e\u5728\u6a21\u578b\u589e\u957f\u65f6\u5b9e\u73b0\u66f4\u9ad8\u7684\u51c6\u786e\u7387\u81f3\u5173\u91cd\u8981\u3002"}),"\n",(0,s.jsx)(n.li,{children:"\u6211\u4eec\u8bc1\u660e\u4e86\uff0c\u589e\u52a0\u6a21\u578b\u89c4\u6a21\u53ef\u4ee5\u63d0\u9ad8 GPT-2\uff08\u7814\u7a76\u89c4\u6a21\u9ad8\u8fbe 83 \u4ebf\u53c2\u6570\uff09\u548c BERT\uff08\u7814\u7a76\u89c4\u6a21\u9ad8\u8fbe 39 \u4ebf\u53c2\u6570\uff09\u6a21\u578b\u7684\u51c6\u786e\u7387\u3002"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"\u80cc\u666f",children:"\u80cc\u666f"}),"\n",(0,s.jsx)(n.p,{children:"\u8282\u7701\u663e\u5b58\uff1a\u68af\u5ea6\u68c0\u67e5\u70b9"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u6570\u636e\u5e76\u884c\uff1a\u6570\u636e\u96c6\u5206\u6210\u5b50\u96c6\u5206\u914d\u7ed9\u4e0d\u540c\u8282\u70b9\uff08GPU\uff09\uff0c\u6bcf\u4e2a\u8282\u70b9\u90fd\u6709\u5b8c\u6574\u7684\u6a21\u578b\u526f\u672c\uff0c\u8ba1\u7b97\u68af\u5ea6\u540e\u901a\u8fc7\u96c6\u5408\u901a\u4fe1\u540c\u6b65\u66f4\u65b0\uff08\u7b80\u5355/\u901a\u4fe1\u5f00\u9500\u5927\uff09"}),"\n",(0,s.jsx)(n.li,{children:"\u6a21\u578b\u5e76\u884c\uff1a\u6a21\u578b\u4e0d\u540c\u5c42\u5206\u5230\u4e0d\u540cGPU\uff08\u590d\u6742/\u901a\u4fe1\u5f00\u9500\u5927/\u6548\u7387\u4f4e\uff09"}),"\n",(0,s.jsx)(n.li,{children:"\u53c2\u6570\u5171\u4eab\uff1a"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"\u6a21\u578b\u5e76\u884c\uff1a"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u9010\u5c42\u6d41\u6c34\u7ebf\u5e76\u884c\uff1a\u6a21\u578b\u5207\u5206\u4e3a\u591a\u4e2a\u9636\u6bb5\uff0c\u5206\u914d\u5230\u4e0d\u540c\u8282\u70b9\u5f62\u6210\u6d41\u6c34\u7ebf\uff08\u9002\u7528\u6df1\u5ea6\u6a21\u578b/\u590d\u6742/\u53ef\u80fd\u6548\u7387\u4f4e\uff09"}),"\n",(0,s.jsx)(n.li,{children:"\u5206\u5e03\u5f0f\u5f20\u91cf\u8ba1\u7b97\uff1a\u5c06\u5927\u578b\u5f20\u91cf\u5207\u5206\uff0c\u6bcf\u4e2a\u8282\u70b9\u5904\u7406\u5b50\u5f20\u91cf\uff0c\u96c6\u5408\u901a\u4fe1\u5408\u5e76\u7ed3\u679c"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"\u5e76\u884c\u65b9\u6cd5",children:"\u5e76\u884c\u65b9\u6cd5"}),"\n",(0,s.jsx)(n.p,{children:"Megatron-LM\u5e76\u884c\u7684\u6a21\u578b"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"MLP\uff1a\u77e9\u9635\u4e58\u6cd5\u3001\u6fc0\u6d3b\u3001\u4e58\u6cd5\uff0c\u4e2d\u95f4\u7ed3\u679c\u8f83\u5927\uff0c\u7ef4\u5ea6\u4f1a\u6269\u5c55\u3002\u7b2c\u4e00\u4e2a\u4e58\u6cd5\u6309\u7167\u6269\u5c55\u7ef4\u5ea6\u62c6\u5206\uff08\u4e0d\u6539\u53d8\u9690\u85cf\u5c42\u7ef4\u5ea6\uff09\uff0c\u901a\u8baf\u51cf\u5c11\u52301/k\u3002"}),"\n",(0,s.jsx)(n.li,{children:"\u6ce8\u610f\u529b\uff1a\u5c06\u4e0d\u540c\u7684\u5934\uff08q\u3001k\uff09\u5206\u5230\u4e0d\u540c\u8282\u70b9\uff1bv\u76f8\u5e94\u62c6\u5206\uff0c\u6700\u540e\u7ed3\u679c\u76f8\u52a0\u3002"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"deepspeed",children:"DeepSpeed"}),"\n",(0,s.jsx)(n.h3,{id:"zero-dp",children:"ZeRO-DP"}),"\n",(0,s.jsx)(n.h3,{id:"zero-r",children:"ZeRO-R"})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},8453:(e,n,l)=>{l.d(n,{R:()=>d,x:()=>c});var r=l(6540);const s={},i=r.createContext(s);function d(e){const n=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);