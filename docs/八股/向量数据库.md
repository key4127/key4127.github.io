---
sidebar_position: 1
---

## 大型向量数据库

### Milvus

Milvus中，顶层容器为Collection，类似关系型数据库的表。Collection中可以有多个partition，划分不同类型的数据。partition中可以有多个entity，标记每个数据（实体）本身。  

需要定义schema（类型？）才能创建collection。schema中包含三类数据：主键（唯一标识，数字/字符串）、向量字段（一个或多个）、标量字段（元数据）。  

Milvus 支持对标量字段和向量字段分别创建索引。它提供多种索引算法：  

- FLAT（精确查找）  
    精确搜索，速度慢，精度高

- IVF（倒排文件索引）  
    类似目录，将文件放在不同桶中，只在对应桶搜索  
    极大提升检索速度

- HNSW
    速度极快，召回率高，适合处理高维数据和低延迟查询  
    内存占用非常大，构建索引时间较长  

- DiskANN  
    为在磁盘上高速运行而优化  
    数据规模巨大，支持无法加载到内存的场景  
    相比内存索引延迟更高  


在ANN之上，Milvus提供多种检索功能。  

- 过滤检索（Filtered Search）  
    在满足特定条件的向量中查找最相似的结果  
    先根据提供的过滤表达式筛选出符合条件的实体，然后仅在这个子集内执行 ANN 检索  

- 范围检索（Range Search）  
    查询所有与查询向量的相似度在特定范围内的结果  

- 多向量混合检索（Hybrid Search）  
    允许一个请求中同时检索多个字段并融合结果  
    对不同字段分别ANN检索，使用重排策略将不同结果合并成更高质量的排序列表  
    RRFRanker  
    WeightedRanker  

- 分组检索（Grouping Search）  
    指定某个字段对结果进行分组  
    返回结果中，每个组只出现一次（或指定次数）